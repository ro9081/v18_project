<?xml version="1.0" ?>
<odoo>
	<data>
		<menuitem name="Agent Commission" id="menu_agent_commission" parent="hotel.hotel_management_menu" sequence="90" groups="hotel.group_hotel_manager"/>
		<!--
		========================================================= 
		 Agent Commission Invoice Line tree view        
		=========================================================	
        -->
		<record id="agent_commission_invoice_line_tree_view" model="ir.ui.view">
			<field name="name">agent.commission.invoice.line.tree</field>
			<field name="model">agent.commission.invoice.line</field>
			<field name="arch" type="xml">
				<list string="Agent Commission Invoice Line" editable="bottom">
					<!-- made editable -->
					<field name="book_id" select="1"/>
					<field name="partner_id" select="1"/>
					<field name="tour_cost" select="1"/>
					<field name="commission_percentage" select="1" />
					<field name="commission_amt" select="1"/>
				</list>
			</field>
		</record>
		<record model="ir.actions.act_window" id="open_vendor_bill_form_tree">
			<field name="name">Vendor Bill</field>
			<field name="res_model">account.move</field>
			<field name="view_mode">list,form</field>
			<field name="view_id" ref="account.view_move_tree"/>
		</record>
		<!--
		=========================================================
       		Agent Commission Invoice  Form View 	
       	=========================================================
        -->
		<record id="agent_commission_invoic_form_view2" model="ir.ui.view">
			<field name="name">agent.commission.invoice.form</field>
			<field name="model">agent.commission.invoice</field>
			<field name="arch" type="xml">
				<form string="Agent Commission Invoice">
					<header>
						<button string="Confirm" name="confirm_commission" invisible="state != 'draft'" type="object"/>
						<button string="Create Vendor Bill" name="make_commission_invoice" invisible="state != 'confirm'" type="object"/>
						<button string="Paid" name="done" invisible="state != 'invoiced'" type="object"/>
						<field name="state" widget="statusbar" statusbar_visible="draft,confirm,invoiced,done" />
					</header>
					<sheet>
						<div name="button_box" class="oe_button_box">
							<button name="action_view_vendor_bill"
								type="object"
								class="oe_stat_button"
								icon="fa-pencil-square-o">
								<field name="vendor_bill_count" widget="statinfo" string="Vendor Bills"/>
							</button>
						</div>
						<div class="oe_title">
							<h1>
								<field name="name" readonly="1"/>
							</h1>
						</div>
						<group colspan="4" col="6">
							<field name="current_date" readonly="state != 'draft'"/>
							<field name="partner_id" readonly="state != 'draft'" select="1" domain="[('agent','=',True)]"/>
							<field name="commission_percentage" readonly="state != 'draft'" invisible="1"/>
							<field name="recv_acc" readonly="state != 'draft'"/>
							<field name="pricelist_id" readonly="state != 'draft'"/>
						</group>
						<separator/>
						<notebook>
							<page string="Commission Line">
								<field name="commission_line" readonly="state != 'draft'"
									select="1" nolabel="1" />
								<group>
									<field name="total_amt" string="Commission Amount"/>
								</group>
							</page>
							<page string="History">
								<field name="agent_invoice_ids" nolabel="1"/>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>
		<!--
		========================================================= 
					Agent Commission Invoice tree view        
		=========================================================	
        -->
		<record id="agent_commission_invoice_tree_view" model="ir.ui.view">
			<field name="name">agent.commission.invoice.tree</field>
			<field name="model">agent.commission.invoice</field>
			<field name="arch" type="xml">
				<list string="Agent Commission Invoice">
					<field name="name"/>
					<field name="current_date" readonly="state != 'draft'" select="1"/>
					<field name="partner_id" readonly="state != 'draft'" select="1"/>
					<field name="total_amt" select="1"/>
					<field name="state" select="1"/>
				</list>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_agent_commission_invoice_form_view">
			<field name="name">Agent Commission Invoice</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">agent.commission.invoice</field>
			<field name="view_mode">list,form</field>
		</record>
		<menuitem name="Agent Commission Invoice" action="action_agent_commission_invoice_form_view" sequence="5"
		id="menu_agent_commission_invoice"  parent="menu_agent_commission" />
		
		
		<record id="agent_relation_tree_view" model="ir.ui.view">
			<field name="name">agent.relation</field>
			<field name="model">agent.relation</field>
			<field name="arch" type="xml">
				<list string="Agent Relation">
					<field name="agent_id"/>
					<field name="shop_ids" widget="many2many_tags"/>
					
				</list>
			</field>
		</record>
		
		
		<record id="agent_relation_form_view2" model="ir.ui.view">
			<field name="name">agent.relation</field>
			<field name="model">agent.relation</field>
			<field name="arch" type="xml">
				<form string="Agent Relation">
					<sheet>
						<group>
							<group>
								<field name="agent_id"/>
							</group>
							<group>
								<field name="shop_ids" widget="many2many_tags"/>
							</group>
						</group>
					</sheet>
				</form>
			</field>
		</record>
		
		<record id="agent_relation_search_view" model="ir.ui.view">
			<field name="name">agent.relation</field>
			<field name="model">agent.relation</field>
			<field name="arch" type="xml">
				<search string="Agent Relation">
					<field name="agent_id"/>
					<field name="shop_ids" widget="many2many_tags"/>
				</search>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_agent_relation_form_view">
			<field name="name">Agent Relation</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">agent.relation</field>
			<field name="view_mode">list,form</field>
		</record>
		<menuitem name="Agent Relation" action="action_agent_relation_form_view" sequence="4"
		id="menu_agent_relation"  parent="menu_agent_commission" />
	</data>
</odoo>
